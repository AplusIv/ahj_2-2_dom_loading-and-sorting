(()=>{"use strict";const t=JSON.parse('[{"id":26,"title":"Побег из Шоушенка","imdb":9.3,"year":1994},{"id":25,"title":"Крёстный отец","imdb":9.2,"year":1972},{"id":27,"title":"Крёстный отец 2","imdb":9,"year":1974},{"id":1047,"title":"Тёмный рыцарь","imdb":9,"year":2008},{"id":223,"title":"Криминальное чтиво","imdb":8.9,"year":1994}]');function e(t,e){return t.dataset.title>e.dataset.title?1:t.dataset.title===e.dataset.title?0:!(t.dataset.title<e.dataset.title)||-1}function n(t,e,n){[...e.querySelector("tr").children].find((t=>t.textContent===n)).textContent+=` ${String.fromCharCode(t)}`}function d(t,e){const n=` ${String.fromCharCode(t)}`;if([...e.querySelector("tr").children].find((t=>new RegExp(n).test(t.textContent)))){const t=[...e.querySelector("tr").children].find((t=>new RegExp(n).test(t.textContent)));t.textContent=t.textContent.replace(n,"")}}document.body.insertBefore(function(t){const e=document.createElement("table"),n=document.createElement("tr");e.appendChild(n);for(const e of Object.keys(t[0])){const t=document.createElement("th");t.textContent=e,n.appendChild(t)}for(const n of t){const t=document.createElement("tr");for(let e=0;e<Object.entries(n).length;e+=1){const[d,r]=Object.entries(n)[e];t.dataset[d]=r,t.dataset.imdb&&(t.dataset.imdb=Number(t.dataset.imdb).toFixed(2)),t.innerHTML=`<td>${t.dataset.id}</td><td>${t.dataset.title}</td><td>imdb: ${t.dataset.imdb}</td><td>(${t.dataset.year})</td>`}e.appendChild(t)}return e}(t),document.body.firstElementChild.nextElementSibling);const r=document.querySelector("table"),i=r.querySelectorAll("tr");let o=0,a=!0;const l=["id","title","imdb","year"];setInterval((()=>{const t=Math.floor(o/l.length*2);if(o<8){const s=function(t,n){let d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"title"===n?d?[...t].sort(e):[...t].sort(e).reverse():[...t].sort(((t,e)=>{const r=Number(t.dataset[n]),i=Number(e.dataset[n]);return d?r-i:i-r}))}([...i].slice(1),l[t],a);for(const t of s)r.appendChild(t);if(d(8593,r),d(8595,r),!0===a)n(8593,r,l[t]);else n(8595,r,l[t]);o+=1,a=!a,8===o&&(o=0)}}),2e3)})();